### Привет!  

Сегодня мы собираемся разработать проект, используя возможности объектно-ориентированной парадигмы языка.
В Swift реализована классическая однородительская модель наследования и возможность реализовать несколько интерфейсов поведения при помощи протоколов.
Очень важная фича Swift — это наличие типа Optional и операторов для взаимодействия с ним. Он позволяет писать безопасный код и практически избегать исключений, связанных с использованием пустых объектов.

Также разработчики языка предлагают использовать несколько удобных инструментов из этой области:
- Структуры
- Расширения

Расширения заслуживают особого внимания. Они позволяют расширить возможности класса или интерфейса новыми функциями без необходимости наследовать или использовать такие шаблоны, как Decorator.

# Темы:
- ООП, классы, протоколы, файлы, getter/setter
- Optional переменные
- Расширения
- Ошибки



[Документация Swift](https://docs.swift.org/swift-book/LanguageGuide/ClassesAndStructures.html)

### Проект: Служба спасения
Город разделен на несколько зон, в каждой есть свой отряд спасательной службы. Сегодня мы разработаем функции для мобильного приложения экстренной помощи. 
Оно будет обрабатывать 2 основных запроса: получить полную информацию о конкретном районе и понять, есть ли инциденты.


## Задания

**Требование!** Создай workspace внутри папки src с названием day01.
Для каждой задачи внутри workspace необходимо создать macOS/Command Line Tool проект. Например, day01/quest1, day01/quest2.
Также не забудь при создании проекта в пункте `Add to:` выбрать созданный workspace.
Более подробное описание о создании проектов можно прочитать в [документации](https://www.swift.org/getting-started/).

В папке `code-samples` есть файл `example.swift` с примерами конструкций для сегодняшнего задания.

### Задание 1. Служба спасения
Определите, находится ли инцидент в заданной зоне.
#### Описание инцидента:
- Инцидент описывается при помощи двух целочисленных координат на координатной плоскости
- Инцидент имеет:
  - Описание
  - Номер заявителя - может быть nil
  - Поле, описывающее один из трех типов инцидента (например, fire, gas leak, cat on the tree) - может быть nil


**Совет!** Используй Enum для перечисления типов, например - типы инцидентов

#### Описание зоны:  
- Зона имеет четырехугольную, треугольную или круглую форму, представляющую фигуры на координатной плоскости.
- Каждая зона имеет:
  - Номер телефона
  - Имя
  - Код службы департамента
  - Уровень, представляющий вероятность инцидента (низкий, средний, высокий)
- Зона имеет метод, чтобы определить, произошел ли в ней инцидент.

**Входные данные:**
- Все координаты вводятся в формате двух целочисленных значений разделенных ';'. Например: 5;4.
- Ввод параметров зоны: программа автоматически определяет форму зоны, исходя из введенных данных:
  - Для окружности - два значения, введенных и разделенных пробелом: ее центр и радиус. Например: 5;4 6
  - Для треугольной - три точки, разделенных пробелами. Например, 5;4 3;6 2;5.
  - Для четырехугольной - четыре точки, разделенных пробелами. Точки должны быть введены в последовательности их соединения. Например: 0;1 0;2 1;2 1;1.
- Остальная информация о зонах для легкого использования должна быть записана в коде.
- Ввод точек с координатами инцидента.
- Неправильные введенные данные вызывают ошибку.
- Нахождение инцидента на границах зоны означает, что он находится в рассматриваемой зоне.

**Выходные данные:**
- Программа выводит полную информацию о зоне и инциденте.
- Программа выводит, произошел ли инцидент во введенной зоне. 
Если нет, то в выводе нужно предложить пользователю общий телефон для городских служб (88008473824)

**Пример**
_Входные данные_
```
Enter zone parameters:
3;4 2

Enter the zone info:
Enter phone number: 
89347362826
Enter name: Sovetsky 
district
Enter emergency dept: 
49324
Enter danger level: 
low 

Enter an accident coordinates:
9;9

Enter the accident info:
Enter description: 
the woman said her cat can't get off the tree
Enter phone number: 
+74832648573
Enter type: 
cat on the tree
```
_Выходные данные_
```
An accident is not in Sovetsky district
Switch the applicant to the common number: 88008473824
```

### Задание 2. Маскирование номера
Маска телефона — это полезная функция UX, которая улучшает читаемость телефонных номеров.  
Напиши расширение класса String, которое применяет две разные маски к номеру телефона:
- Оно работает с 11-значными числами, начинающимися с 7 или 8, или с 12-значными числами, начинающимися с +7:
  - Если код оператора 800, то номер преобразуется в вид «8 (800) xxx xx xx»
  - Для другого оператора маска «+7 xxx xxx-xx-xx»
  - Обрати внимание, что помимо скобок, пробелов и дефисов, первая цифра (страна) также меняется в зависимости от маски. Пример: 84352835724 преобразуется в +7 435 283-57-24. 
- Остальные номера игнорируются 

**Проверь результат:** примени это расширение в предыдущем задании, чтобы отобразить информацию о телефонах зоны и заявителя, затем повтори проверку упражнения.


| Входные данные | Выходные данные |
| ------ | ------ |
| 88005553535  |8 (800) 555 35 35| 
|89152342343|+7 915 234-23-43|

### Бонусное задание 3. Неожиданности повсюду
Опиши объект города. Город должен иметь:
  - Имя
  - Коллекцию с различными зонами (для простоты может быть записано в коде)

Определи, в какой зоне произошел инцидент на примере одного города. 
Если точка инцидента попадает между зонами, программа переключает ее на отделение из ближайшей зоны. 
При нахождении инцидента на границе зон выведи одну из них.

**Входные данные:** Ввод координат инцидента
**Выходные данные:** Сначала программа печатает город: название и общий номер телефон городских служб (с маской). Затем, она печатает полную информацию об инциденте и отслеживаемых зонах с их маскированным телефоном

_Данные зон_
Для примера в том же формате, как и задании 1 выделим координаты зон города Novosibirsk: Sovetsky district - (7;7 1), Kalinisky district - (11;11 12;12 12;11), Kirovsky district - (0;0 0;-2 -2;0 -1;1).

Данные об инциденте могут быть любыми и определены заранее. Например, `description` - "the woman said her cat can't get off the tree", `phone number` - "+7 934 736-28-26", `type` - cat on the tree.
**Пример**:
_Входные данные_
```
Enter an accident coordinates:
9;9
```
_Выходные данные_
```
The city info:
  Name: Novosibirsk 
  The common number: 8 (800) 847 38 24

The accident info:
  Description: the woman said her cat can't get off the tree
  Phone number: +7 934 736-28-26
  Type: cat on the tree

The accident didn't match with any zone. The nearest zone: Sovetsky district
The zone info:
  The shape of area: circle 
  Phone number: +7 934 736-28-26
  Name: Sovetsky district
  Emergency dept: 49324
  Danger level: low 
```
